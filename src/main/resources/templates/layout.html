organiza este codigo:<!DOCTYPE html>
<html
    lang="es"
    xmlns:th="http://www.thymeleaf.org"
    xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
    xmlns:sec="http://www.thymeleaf.org/extras/spring-security"
    >
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Usuario</title>
        <link
            href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
            rel="stylesheet"
            />
        <link
            href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css"
            rel="stylesheet"
            />
        <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    </head>

    <body class="bg-light">
        <header>
            <nav
                class="navbar navbar-expand-lg navbar-dark bg-primary shadow-lg py-3"
                >
                <div class="container">
                    <a
                        class="navbar-brand fw-bold d-flex align-items-center fs-4"
                        th:href="@{/usuario}"
                        >
                        <i class="bi bi-people-fill me-2"></i>
                        Sistema de Usuarios
                    </a>
                    <button
                        class="navbar-toggler border-0 shadow-sm"
                        type="button"
                        data-bs-toggle="collapse"
                        data-bs-target="#navbarMain"
                        >
                        <span class="navbar-toggler-icon"></span>
                    </button>
                    <div class="collapse navbar-collapse" id="navbarMain">
                        <ul class="navbar-nav ms-auto gap-2">
                            <li class="nav-item d-none" id="menuAdminLista">
                                <a
                                    class="nav-link fw-semibold px-3 py-2 rounded-pill"
                                    th:href="@{/usuario}"
                                    >
                                    <i class="bi bi-people-fill me-2"></i>Lista de Usuarios
                                </a>
                            </li>
                            <li class="nav-item d-none" id="menuAdminAdd">
                                <a
                                    class="nav-link fw-semibold px-3 py-2 rounded-pill"
                                    th:href="@{/usuario/add}"
                                    >
                                    <i class="bi bi-person-plus-fill me-2"></i>Nuevo Usuario
                                </a>
                            </li>
                            <li class="nav-item">
                                <a
                                    class="nav-link fw-semibold px-3 py-2 rounded-pill"
                                    th:href="@{/Usuario/CargaMasiva}"
                                    >
                                    <i class="bi bi-cloud-upload-fill me-2"></i>Carga Masiva
                                </a>
                            </li>
                        </ul>
                    </div>
                </div>
            </nav>
        </header>

        <main class="container my-5">
            <div class="card border-0 rounded-4 shadow-lg">
                <div class="card-body p-4" layout:fragment="contenido"></div>
            </div>
        </main>

        <footer class="bg-white border-top shadow-sm py-4 mt-5">
            <div class="container">
                <div class="row align-items-center">
                    <div class="col-md-12 text-center text-md-start mb-3 mb-md-0">
                        <p class="mb-0 text-muted fw-semibold">
                            <i class="bi bi-c-circle me-1"></i>
                            2025 Ulises Muñoz Jacobo
                        </p>
                    </div>
                </div>
            </div>
        </footer>

        <input type="hidden" id="token" value="${token}" />

        <script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
        <script>
            $(document).ready(function () {
                function parseJwt(token) {
                    try {
                        const base64Url = token.split(".")[1];
                        const base64 = base64Url.replace(/-/g, "+").replace(/_/g, "/");
                        const jsonPayload = decodeURIComponent(
                                atob(base64)
                                .split("")
                                .map(
                                        (c) => "%" + ("00" + c.charCodeAt(0).toString(16)).slice(-2)
                                )
                                .join("")
                                );
                        return JSON.parse(jsonPayload);
                    } catch (e) {
                        return null;
                    }
                }

                const token = $("#token").val();
                if (!token)
                    return;

                const payload = parseJwt(token);
                if (!payload)
                    return;

                let roles = payload.rol || [];
                if (typeof roles === "string")
                    roles = [roles];

                if (roles.includes("ROLE_Administrador")) {
                    $("#menuAdminLista").removeClass("d-none");
                    $("#menuAdminAdd").removeClass("d-none");
                }
            });
        </script>

        <script>
            $(document).ready(function () {
                let token = $("#token").val();

                $("#ddlPais").change(function () {
                    $.ajax({
                        url:
                                "http://localhost:8080/api/estado/pais?IdPais=" +
                                $("#ddlPais").val(),
                        type: "GET",
                        dataType: "JSON",
                        headers: {Authorization: "Bearer " + token},
                        success: function (result) {
                            $("#ddlEstado").empty();
                            $("#ddlEstado").append(
                                    "<option value='0' selected>Selecciona algún Estado</option>"
                                    );
                            $.each(result.Object, function (i, estado) {
                                $("#ddlEstado").append(
                                        "<option value='" +
                                        estado.idEstado +
                                        "'>" +
                                        estado.nombre +
                                        "</option>"
                                        );
                            });
                        },
                        error: function () {
                            Swal.fire({
                                icon: "error",
                                title: "Error",
                                text: "No se pudo consultar los estados",
                                confirmButtonColor: "#0d6efd",
                            });
                        },
                    });
                });

                $("#ddlEstado").change(function () {
                    $.ajax({
                        url:
                                "http://localhost:8080/api/municipio/estado?IdEstado=" +
                                $("#ddlEstado").val(),
                        type: "GET",
                        dataType: "JSON",
                        headers: {Authorization: "Bearer " + token},
                        success: function (result) {
                            $("#ddlMunicipio").empty();
                            $("#ddlMunicipio").append(
                                    "<option value='0' selected>Selecciona algún Municipio</option>"
                                    );
                            $.each(result.Object, function (i, municipio) {
                                $("#ddlMunicipio").append(
                                        "<option value='" +
                                        municipio.idMunicipio +
                                        "'>" +
                                        municipio.nombre +
                                        "</option>"
                                        );
                            });
                        },
                        error: function () {
                            Swal.fire({
                                icon: "error",
                                title: "Error",
                                text: "No se pudo consultar los municipios",
                                confirmButtonColor: "#0d6efd",
                            });
                        },
                    });
                });

                $("#ddlMunicipio").change(function () {
                    $.ajax({
                        url:
                                "http://localhost:8080/api/colonia/municipio?IdMunicipio=" +
                                $("#ddlMunicipio").val(),
                        type: "GET",
                        dataType: "JSON",
                        headers: {Authorization: "Bearer " + token},
                        success: function (result) {
                            $("#ddlColonia")
                                    .empty()
                                    .append(
                                            "<option value='0' selected>Selecciona alguna colonia</option>"
                                            );
                            $("#ddlCodigoPostal")
                                    .empty()
                                    .append(
                                            "<option value='0' selected>Seleccione un Código Postal</option>"
                                            );
                            $.each(result.Object, function (i, colonia) {
                                $("#ddlColonia").append(
                                        "<option value='" +
                                        colonia.idColonia +
                                        "'>" +
                                        colonia.nombre +
                                        "</option>"
                                        );
                                $("#ddlCodigoPostal").append(
                                        "<option value='" +
                                        colonia.idColonia +
                                        "'>" +
                                        colonia.codigoPostal +
                                        "</option>"
                                        );
                            });
                        },
                        error: function () {
                            Swal.fire({
                                icon: "error",
                                title: "Error",
                                text: "No se pudo consultar las colonias",
                                confirmButtonColor: "#0d6efd",
                            });
                        },
                    });
                });
            });
        </script>
    </body>
</html>